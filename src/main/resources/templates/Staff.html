<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content=" initial-scale=1, maximum-scale-1, shrink-to-fit=yes"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title> Personel Ekle</title>

    <link rel="stylesheet" th:href="@{/css/pace.min.css}"/>
    <script th:src="@{/js/pace.min.js}"></script>
    <!--favicon-->
    <link rel="icon" th:href="@{/images/favicon.ico}" type="image/x-icon">
    <!-- simplebar CSS-->
    <link th:href="@{/plugins/simplebar/css/simplebar.css}" rel="stylesheet"/>
    <!-- Bootstrap core CSS-->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <!-- animate CSS-->
    <link th:href="@{/css/animate.css}" rel="stylesheet" type="text/css"/>
    <!-- Icons CSS-->
    <link th:href="@{/css/icons.css}" rel="stylesheet" type="text/css"/>
    <!-- Sidebar CSS-->
    <link th:href="@{/css/sidebar-menu.css}" rel="stylesheet"/>
    <!-- Custom Style-->
    <link th:href="@{/css/app-style_edit.css}" rel="stylesheet"/>
    <!-- skins CSS-->
    <link th:href="@{/css/skins.css}" rel="stylesheet"/>
    <!--Bootstrap Datepicker-->
    <link th:href="@{/plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" th:href="@{/plugins/notifications/css/lobibox.min.css}"/>
</head>
<body>
<!-- Start wrapper-->
<div id="wrapper">
    <div id="loading-screen" style="display: none; background-color: white">
        <div class='loader'>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--text'></div>
        </div>
    </div>
    <!--Start sidebar-topbar-wrapper-->
    <div th:replace="SideBar :: navbar"/>
    <!--End sidebar-topbar-wrapper-->
    <div class="clearfix"></div>
    <div class="content-wrapper">
        <div class="container-fluid">
            <!-- Breadcrumb-->
            <div class="row pt-2 pb-2">
                <div class="col-sm-9">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javaScript:void(0);">Yönetim Araçları</a></li>
                        <li class="breadcrumb-item"><a href="javaScript:void(0);">Personel Yönetimi</a></li>
                    </ol>
                </div>
                <div class="col-sm-3">
                    <div class="btn-group float-sm-right m-1" role="group">
                        <button type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                            Hızlı Erişim
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item"
                               style="font-size: small; background-color: rgba(129, 90, 232, 0.15);">Teknik Destek</a>
                            <a href="/teknikdestek/olustur" class="dropdown-item text-center" style="font-size: small">Teknik
                                Destek Talebi</a>
                            <a href="/teknikdestek/taleplerim" class="dropdown-item text-right"
                               style="font-size: small">&emsp;&emsp;Teknik Destek Taleplerim</a>
                            <a class="dropdown-item "
                               style="font-size: small; background-color: rgba(129, 90, 232, 0.15);">Öneri /
                                Şikayetleriniz</a>
                            <a href="/oneri/olustur" class="dropdown-item text-center" style="font-size: small">Öneri /
                                Şikayet Talebi</a>
                            <a href="/oneri/onerilerim" class="dropdown-item pull-right" style="font-size: small">&emsp;&emsp;Öneri
                                / Şikayet Taleplerim</a>
                            <div class="dropdown-divider"></div>
                            <a href="/iletisim/iletisim" class="dropdown-item">İletişim</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header gradient-deepblue text-white  text-uppercase">Personel Oluştur</div>
                    <div class="ribbon-content"></div>
                    <div class="card-body">
                        <form id="FormSave">
                            <div>
                                <div class="form-group row">
                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label for="adi" class="">Ad <span
                                                            style="color: red">(*)</span></label>
                                                    <input th:if="${staff != null}" type="text" class="form-control"
                                                           id="adi" name="ad" th:value="${staff.name}"
                                                           placeholder="Ad giriniz" required>
                                                    <input th:if="${staff == null}" type="text"
                                                           class="form-control form-control-sm" id="adi"
                                                           name="ad" placeholder="Ad Giriniz" required/>
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="soyAdi" class="">Soyad <span
                                                            style="color: red">(*)</span></label>
                                                    <input th:if="${staff != null}" type="text"
                                                           th:value="${staff.surname}"
                                                           class="form-control form-control-sm" id="soyAdi"
                                                           name="soyad"
                                                           placeholder="SOYAD" required>
                                                    <input th:if="${staff == null}" type="text"
                                                           class="form-control form-control-sm" id="soyAdi"
                                                           name="soyad"
                                                           placeholder="Soyadı Giriniz" required>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${staff == null}">
                                                        <label for="ulke" class="">Uyruk <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm" id="ulke"
                                                                name="uyruk" required>
                                                            <option disabled="disabled" selected="selected"> ----- Uyruk
                                                                Seçiniz -----
                                                            </option>
                                                            <option th:each="listCountry : ${listCountry}" th:value="${listCountry.id}"
                                                                    th:text="${listCountry.country}"></option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group" th:if="${staff != null}">
                                                        <label for="ulke" class="">Uyruk <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm" id="ulke"
                                                                name="uyruk" required>
                                                            <option th:each="listCountry : ${listCountry}" th:value="${listCountry.id}"
                                                                    th:text="${listCountry.country}"
                                                                    th:selected="${listCountry.id}==${equalCountry}"></option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="tcKimlikPasaportNo" class="">TC Kİmlİk Numarası <span
                                                            style="color: red">(*)</span></label>
                                                    <input th:if="${staff != null}"
                                                           th:value="${staff.tcPass}"
                                                           class="form-control form-control-sm"
                                                           id="tcKimlikPasaportNo" placeholder="Kimlik No Giriniz"
                                                           name="tc"
                                                           maxlength="11" required>
                                                    <input th:if="${staff == null}"
                                                           class="form-control form-control-sm" maxlength="11"
                                                           id="tcKimlikPasaportNo"
                                                           placeholder="Kimlik No Giriniz" name="tc" required>
                                                </div>
<!--                                                <div class="col-md-6">-->
<!--                                                    <label for="pasaportNo" class="">Pasaport Numarası </label>-->
<!--                                                    <input th:if="${staff != null}"-->
<!--                                                           th:value="${staff.tcPass}"-->
<!--                                                           class="form-control form-control-sm"-->
<!--                                                           id="pasaportNo" placeholder="Pasaport No Giriniz" name="tc"-->
<!--                                                           maxlength="11">-->
<!--                                                    <input th:if="${staff == null}"-->
<!--                                                           class="form-control form-control-sm" maxlength="11"-->
<!--                                                           id="pasaportNo"-->
<!--                                                           placeholder="Pasaport No Giriniz" name="tc">-->
<!--                                                </div>-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
<!--                                                <div class="col-md-6">-->
<!--                                                    <label for="hesKodu" class="">HES Kodu </label>-->
<!--                                                    <input th:if="${staff != null}"-->
<!--                                                           th:value="${staff.hesKodu}" maxlength="12"-->
<!--                                                           class="form-control form-control-sm"-->
<!--                                                           id="hesKodu" name="hesKodu" placeholder="HES Kodu Giriniz">-->
<!--                                                    <input th:if="${staff == null}" maxlength="12"-->
<!--                                                           class="form-control form-control-sm" id="hesKodu"-->
<!--                                                           name="hesKodu" placeholder="HES Kodu Giriniz">-->
<!--                                                </div>-->

                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${staff == null}">
                                                        <label for="cinsiyet" class="">Cİnsİyet <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm" id="cinsiyet"
                                                                name="cinsiyet" required>
                                                            <option disabled="disabled" selected="selected"> -----
                                                                Cinsiyet Seçiniz -----
                                                            </option>
                                                            <option value="1">Erkek</option>
                                                            <option value="0">Kadın</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group" th:if="${staff != null}">
                                                        <label for="cinsiyet" class="">Cinsiyet <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm" id="cinsiyet"
                                                                name="cinsiyet" required>
                                                            <option value="1" th:selected="1==${staff.sex}">
                                                                Erkek
                                                            </option>
                                                            <option value="0" th:selected="0==${staff.sex}">
                                                                Kadın
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${staff == null}">
                                                        <label for="persontur" class="">Personel Tür <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm" id="persontur"
                                                                name="pTur" required>
                                                            <option disabled="disabled" selected="selected"> -----
                                                                Personel Tür Seçiniz -----
                                                            </option>
                                                            <option th:each="Type : ${Type}" th:value="${Type.id}"
                                                                    th:text="${Type.staffType}"></option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group" th:if="${staff != null}">
                                                        <label for="persontur" class="">Personel Türü <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm" id="persontur"
                                                                name="pTur" required>
                                                            <option th:each="Type : ${Type}" th:value="${Type.id}"
                                                                    th:text="${Type.staffType}"
                                                                    th:selected="${Type.id} == ${staff.staffType.id}"></option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label for="email" class="">E-Mail </label>
                                                    <input type="email" th:if="${staff == null}"
                                                           class="form-control form-control-sm" id="email" name="email"
                                                           placeholder="Varsa Mail Adresini Giriniz">
                                                    <input type="email" th:if="${staff != null}"
                                                           class="form-control form-control-sm" id="email" name="email"
                                                           th:value="${staff.email}"
                                                           placeholder="Varsa Mail Adresini Giriniz">
                                                </div>


                                                <div class="col-md-6">
                                                    <label for="telefon" class="">Telefon Numarası <span
                                                            style="color: red">(*)</span></label>
                                                    <input th:if="${staff == null}"
                                                           class="form-control form-control-sm"
                                                           id="telefon" name="telefon" required
                                                           placeholder="Telefon No Alanını Giriniz" maxlength="10">
                                                    <input th:if="${staff != null}"
                                                           class="form-control form-control-sm"
                                                           id="telefon" name="telefon" th:value="${staff.phone}"
                                                           required placeholder="Telefon No Alanını Giriniz"
                                                           maxlength="10">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${staff == null}">
                                                        <label for="selectCity" class="">İl <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm" id="selectCity"
                                                                name="selectCity" required>
                                                            <option disabled="disabled" selected="selected"> ----- Şehir
                                                                Seçiniz -----
                                                            </option>
                                                            <option th:each="listCity : ${listCity}" th:value="${listCity.id}"
                                                                    th:text="${listCity.getCity()}"
                                                            ></option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group" th:if="${staff != null}">
                                                        <label for="selectCity" class="">İl <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm" id="selectCity"
                                                                name="selectCity" required>
                                                            <option th:each="listCity : ${listCity}" th:value="${listCity.id}"
                                                                    th:text="${listCity.city}"
                                                                    th:selected="${listCity.id} == ${staff.district.city.id}"
                                                            ></option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${staff == null}">
                                                        <label for="selectDistrict" class="">İlçe <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm"
                                                                id="selectDistrict" name="selectDistrict" required>
                                                            <option disabled="disabled" selected="selected"> ----- İlçe
                                                                Seçiniz -----
                                                            </option>
                                                        </select>
                                                    </div>

                                                    <div class="form-group" th:if="${staff != null}">
                                                        <label for="selectDistrict" class="">İlçe <span
                                                                style="color: red">(*)</span></label>
                                                        <select class="form-control form-control-sm"
                                                                id="selectDistrict" name="selectDistrict" required>
                                                            <option th:each="districtLists: ${districtLists}"
                                                                    th:value="${districtLists.getId()}"
                                                                    th:text="${districtLists.getDistrict()}"
                                                                    th:selected="${districtLists.getId()} == ${staff.district.id}">
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 ">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <label class="control-label">Adres <span
                                                            style="color: red">(*)</span></label>
                                                    <textarea th:if="${staff == null}" rows="4" class="form-control"
                                                              id="adres" name="adres"
                                                              required placeholder="Adres Alanını Giriniz"></textarea>
                                                    <textarea th:if="${staff != null}" rows="4" class="form-control"
                                                              id="adres" name="adres" th:text="${staff.address}"
                                                              required placeholder="Adres Alanını Giriniz"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <div class="card-body">
                                                            <label>Doğum Tarİhİ </label>
                                                            <span class="fa fa-calendar"><span
                                                                    style="color: red">(*)</span></span>
                                                            <input th:if="${staff == null}" type="text"
                                                                   id="autoclose-datepicker" name="dogumT"
                                                                   class="form-control"
                                                                   placeholder="Varsa Doğum Tarihi Alanını Giriniz"
                                                                   required>
                                                            <input th:if="${staff != null}" type="text"
                                                                   id="autoclose-datepicker2" name="dogumT"
                                                                   th:value="${staff.bt}" class="form-control"
                                                                   placeholder="Varsa Doğum Tarihi Alanını Giriniz"
                                                                   required>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <div class="card-body">
                                                            <label>Posta Kodu</label>
                                                            <input th:if="${staff == null}" type="text" id="posta"
                                                                   name="posta" maxlength="5" class="form-control"
                                                                   placeholder="Varsa Posta Kodu Giriniz">
                                                            <input th:if="${staff!= null}" type="text" id="posta"
                                                                   name="posta" maxlength="5"
                                                                   th:value="${staff.postalCode}" class="form-control"
                                                                   placeholder="Varsa Posta Kodu Giriniz">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <div class="row">
                                                <label>&emsp; &nbsp;&nbsp;</label>
                                                <div class="col-md-6">
                                                    <div class="form-group" th:if="${staff == null}">

                                                        <div class="icheck-material-success icheck-inline">
                                                            <input type="radio" id="inline-radio-success" name="durum"
                                                                   checked value=1>
                                                            <label for="inline-radio-success">Aktİf</label>
                                                        </div>
                                                        <div class="icheck-material-primary icheck-inline">
                                                            <input type="radio" id="inline-radio-primary" name="durum"
                                                                   value=2>
                                                            <label for="inline-radio-primary">Pasİf</label>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" th:if="${staff != null}">
                                                        <div class="icheck-material-success icheck-inline">
                                                            <input type="radio" th:checked="${staff.status == 1}"
                                                                   id="inline-radio-success" name="durum" checked
                                                                   value=1>
                                                            <label for="inline-radio-success">Aktİf</label>
                                                        </div>
                                                        <div class="icheck-material-primary icheck-inline">
                                                            <input type="radio" th:checked="${staff.status == 2}"
                                                                   id="inline-radio-primary" name="durum" value=0>
                                                            <label for="inline-radio-primary">Pasİf</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="btn-group pull-right" th:if="${staff == null}">
                                                        <button type="submit" class="btn btn-success"><i
                                                                class="fa fa-check-square-o"></i> Kaydet
                                                        </button>
                                                        <label>&emsp; &nbsp;&nbsp;&nbsp;</label>
                                                        <a href="/staff/staffs" class="btn btn-danger"><i
                                                                class="zmdi zmdi-block-alt"></i> İptal</a>
                                                    </div>
                                                    <div class="form-grou pull-rightp" th:if="${staff != null}">
                                                        <button type="submit" class="btn btn-success"><i
                                                                class="fa fa-check-square-o"></i> Güncelle
                                                        </button>
                                                        <label>&emsp; &nbsp;&nbsp;&nbsp;</label>
                                                        <a href="/staff/staffs" class="btn btn-danger"><i
                                                                class="zmdi zmdi-block-alt"></i> İptal</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="overlay toggle-menu"></div>
        </div><!-- End container-fluid-->
    </div><!--End content-wrapper-->
    <!--Start Back To Top Button-->
    <a href="javaScript:void(0);" class="back-to-top"><i class="fa fa-angle-double-up"></i> </a>
</div><!--End wrapper-->
<!--Start footer wrapper-->
<div th:replace="Footer :: footer"/>
<!--End footer-wrapper-->
<!-- Bootstrap core JavaScript-->
<script th:src="@{/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js}"></script>
<!-- Bootstrap core JavaScript-->
<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/popper.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/bildirim.js}"></script>
<!-- simplebar js -->
<script th:src="@{/plugins/simplebar/js/simplebar.js}"></script>
<!-- sidebar-menu js -->
<script th:src="@{/js/sidebar-menu.js}"></script>
<!--Bootstrap Datepicker Js-->
<script th:src="@{/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js}"></script>
<!-- Custom scripts -->
<script th:src="@{/js/app-script.js}"></script>
<script th:src="@{/plugins/notifications/js/lobibox.min.js}"></script>
<script th:src="@{/plugins/notifications/js/notifications.min.js}"></script>
<script th:src="@{/plugins/notifications/js/notification-custom-script.js}"></script>
<!--Form Validatin Script-->
<script th:src="@{/plugins/jquery-validation/js/jquery.validate.min.js}"></script>
<script th:src="@{/js/jquery-serialize.min.js}"></script>
<script type="application/javascript" th:src="@{/js/form-kontrol.js}"></script>
<script>
    var personyas;
    var date = new Date();
    var today = new Date(date.getFullYear(), date.getMonth(), date.getDate());
    var yasgunu = new Date(date.getFullYear() - 19, date.getMonth(), date.getDate());
    $(document).ready(function () {
        $('#autoclose-datepicker').datepicker({
            format: 'dd/mm/yyyy',
            language: 'tr',
        });
        $('#autoclose-datepicker').datepicker('setDate', yasgunu);
        $('#autoclose-datepicker2').datepicker({
            format: 'dd/mm/yyyy',
            language: 'tr',
        });
    });
    var ilkkez = 1;
    $("#autoclose-datepicker").change(function () {
        var input = $('#autoclose-datepicker').val();
        var pattern = /^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;
        var sonuc = pattern.test(input);
        if (ilkkez > 2) {
            if (sonuc = "true") {
                var year = Number(input.substr(6, 4));
                var month = Number(input.substr(3, 2) - 1);
                var day = Number(input.substr(0, 2));
                var age = today.getFullYear() - year;
                personyas = age;
            } else {
                inf_msg(msg = "Personel Yaşı Tarihi İstenilen Formatta Giriniz.");
            }
        } else {
            ilkkez = 4;
        }
    });
    $("#autoclose-datepicker2").change(function () {
        var input2 = $('#autoclose-datepicker2').val();
        var pattern2 = /^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/;
        var sonuc2 = pattern2.test(input2);
        if (sonuc2 = "true") {
            var year2 = Number(input2.substr(6, 4));
            var month2 = Number(input2.substr(3, 2) - 1);
            var day2 = Number(input2.substr(0, 2));
            var age2 = today.getFullYear() - year2;
            personyas = age2;
        } else {
            inf_msg(msg = "Personel Yaşı Tarihi İstenilen Formatta Giriniz.");
        }
    });
</script>
</body>
</html>
